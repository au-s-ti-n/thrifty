<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Store Manager Dashboard - Thrifty</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="manager.css" />
</head>

<body>
    <nav>
        <div class="left-group">
            <button class="menu-btn" id="menu-btn">â˜°</button>

            <div class="nav-links" id="nav-links">
                <a href="index.html" class="logo">THRIFTY</a>
                <a href="browse.html">Browse</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact Us</a>
                <a href="profile.html">Profile</a>
            </div>
        </div>
        <div class="right-links">
            <a id="loginLink" href="login.html">Log In</a>
            <a id="signupLink" href="signup.html">Sign Up</a>
            <a id="logoutLink" href="#" style="display:none;">Log Out</a>
        </div>
    </nav>

    <div class="dashboard-container">
        <div class="dashboard-content">
            <h1>Store Manager Dashboard</h1>
            <p class="welcome-text">Goodwill - Benton Street | Manager: Lisa Chen</p>
            
            <!-- Today's Summary -->
            <div class="section">
                <h2>Today's Summary</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="items-listed-count">14</h3>
                        <p>New Items Listed</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="reservations-count">3</h3>
                        <p>Active Reservations</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="sales-goal">75%</h3>
                        <p>Daily Sales Goal</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="revenue-today">$142</h3>
                        <p>Revenue Today</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="section">
                <h2>Quick Actions</h2>
                <div class="quick-actions">
                    <button class="btn-primary" onclick="showListItemModal()">List New Item</button>
                    <button class="btn-secondary" onclick="showFeedback('Bulk upload feature coming in next update')">Bulk Upload</button>
                    <button class="btn-secondary" onclick="showAnalytics()">View Analytics</button>
                    <button class="btn-secondary" onclick="showFeedback('Store settings feature coming in next update')">Store Settings</button>
                </div>
            </div>

            <!-- Active Reservations -->
            <div class="section">
                <h2>Active Reservations (<span id="reservation-list-count">3</span>)</h2>
                <div id="reservations-list">
                    <!-- Reservation cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Recent Listings -->
            <div class="section">
                <h2>Recently Listed Items</h2>
                <div id="recent-listings">
                    <!-- Recently listed items will appear here -->
                </div>
            </div>

            <!-- Inventory Status -->
            <div class="section">
                <h2>Inventory Status</h2>
                <div class="inventory-stats">
                    <div class="inventory-card">
                        <h3>Items Awaiting Photos</h3>
                        <p class="inventory-number">21</p>
                        <p class="inventory-desc">New donations that need to be photographed and listed</p>
                        <button class="btn-secondary" onclick="showFeedback('Photo queue feature coming in next update')">Start Listing</button>
                    </div>
                    <div class="inventory-card">
                        <h3>Live on Platform</h3>
                        <p class="inventory-number" id="live-items-count">87</p>
                        <p class="inventory-desc">Currently browsable by shoppers</p>
                        <button class="btn-secondary" onclick="showLiveInventory()">View All</button>
                    </div>
                    <div class="inventory-card">
                        <h3>Reserved Items</h3>
                        <p class="inventory-number">3</p>
                        <p class="inventory-desc">Items on hold for customers</p>
                        <button class="btn-secondary" onclick="document.querySelector('#reservations-list').scrollIntoView({behavior: 'smooth'})">Manage</button>
                    </div>
                </div>
            </div>

            <!-- Performance Metrics -->
            <div class="section">
                <h2>This Week's Performance</h2>
                <div class="metrics-grid">
                    <div class="metric-box">
                        <h4>Total Sales</h4>
                        <p class="metric-value">$847</p>
                        <p class="metric-change positive">â†‘ 23% vs last week</p>
                    </div>
                    <div class="metric-box">
                        <h4>Items Sold</h4>
                        <p class="metric-value">42</p>
                        <p class="metric-change positive">â†‘ 18% vs last week</p>
                    </div>
                    <div class="metric-box">
                        <h4>Avg. Sale Price</h4>
                        <p class="metric-value">$20.17</p>
                        <p class="metric-change positive">â†‘ 4% vs last week</p>
                    </div>
                    <div class="metric-box">
                        <h4>Reservation Rate</h4>
                        <p class="metric-value">68%</p>
                        <p class="metric-change negative">â†“ 5% vs last week</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- List New Item Modal -->
    <div id="list-item-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="modal-close" onclick="closeListItemModal()">&times;</span>
            <h2>List New Item</h2>
            
            <form id="list-item-form" onsubmit="handleListItem(event)">
                <!-- AI Image Recognition Section -->
                <div style="background: #f8f9fa; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
                    <h3 style="font-size: 18px; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 20px;">ðŸ¤–</span> AI Image Recognition
                    </h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">
                        Upload a photo and our AI will automatically identify the item details
                    </p>
                    
                    <label class="upload-box" for="item-photos" style="display: block; border: 3px dashed #ddd; border-radius: 12px; padding: 40px 20px; text-align: center; cursor: pointer; transition: all 0.3s; background: white;">
                        <div style="font-size: 48px; margin-bottom: 10px;">ðŸ“¸</div>
                        <div style="font-size: 16px; font-weight: 600; color: #333; margin-bottom: 5px;">Click to upload item photo</div>
                        <div style="font-size: 13px; color: #999;">PNG, JPG up to 10MB</div>
                    </label>
                    <input type="file" id="item-photos" accept="image/*" style="display: none;">
                    
                    <div id="photo-preview" style="margin-top: 20px;"></div>
                    <div id="ai-status"></div>
                </div>
                
                <!-- Divider -->
                <div style="display: flex; align-items: center; gap: 15px; margin: 30px 0;">
                    <div style="flex: 1; height: 1px; background: #ddd;"></div>
                    <span style="color: #999; font-size: 14px; font-weight: 600;">OR ENTER MANUALLY</span>
                    <div style="flex: 1; height: 1px; background: #ddd;"></div>
                </div>
                
                <!-- Manual Input Section -->
                <div style="background: white; padding: 20px; border-radius: 12px; border: 1px solid #eee;">
                    <label>Item Name</label>
                    <input type="text" id="item-name" required placeholder="e.g., Levi's 501 Jeans">

                    <label>Category</label>
                    <select id="item-category" required>
                        <option value="">Select Category</option>
                        <option value="jeans">Jeans</option>
                        <option value="shirts">Shirts</option>
                        <option value="outerwear">Outerwear</option>
                        <option value="shoes">Shoes</option>
                    </select>

                    <label>Size</label>
                    <input type="text" id="item-size" required placeholder="e.g., 32x32, L, 10">

                    <label>Brand</label>
                    <input type="text" id="item-brand" required placeholder="e.g., Levi's">

                    <label>Condition</label>
                    <select id="item-condition" required>
                        <option value="">Select Condition</option>
                        <option value="Excellent">Excellent</option>
                        <option value="Very Good">Very Good</option>
                        <option value="Good">Good</option>
                        <option value="Fair">Fair</option>
                    </select>

                    <label>Price ($)</label>
                    <input type="number" id="item-price" required placeholder="15.00" step="0.01" min="0">

                    <label>Description</label>
                    <textarea id="item-description" required placeholder="Describe the item's features, materials, and condition..." rows="4"></textarea>
                </div>

                <button type="submit" class="btn-primary">List Item</button>
            </form>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Thrifty</h3>
                <p>Making sustainable fashion accessible to everyone.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="browse.html">Browse Items</a>
                <a href="about.html">About Us</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="footer-section">
                <h4>For Stores</h4>
                <a href="signup.html">Partner With Us</a>
                <a href="manager.html">Store Dashboard</a>
            </div>
            <div class="footer-section">
                <h4>Connect</h4>
                <p>hello@thrifty.com</p>
                <p>San Jose, CA</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Thrifty. Built with sustainability in mind.</p>
        </div>
    </footer>

    <script src="dataManager.js"></script>
    <script src="nav.js"></script>
    <script src="manager.js"></script> 
</body>
</html>